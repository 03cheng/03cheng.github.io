<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[个人博客搭建过程]]></title>
      <url>http://yoursite.com/2016/09/18/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/</url>
      <content type="html"><![CDATA[<p><a href="http://cyzus.github.io/2015/06/21/github-build-blog/" target="_blank" rel="external">傻瓜都可以利用github pages建博客</a><br><a href="http://opiece.me/2015/04/09/hexo-guide/" target="_blank" rel="external">使用Hexo搭建个人博客(基于hexo3.0)</a><br><a href="http://drubear.github.io/2016/01/28/手把手教你用Hexo在GitHub搭建博客/" target="_blank" rel="external">手把手教你用Hexo在GitHub搭建博客</a><br><a href="http://www.cnblogs.com/tocy/p/npp-support-markdonw-extension.html" target="_blank" rel="external">Notepad++中支持Markdown</a><br><a href="http://www.jianshu.com/p/a2fe56d11c4f" target="_blank" rel="external">搭建Hexo博客中碰到的坑</a><br><a href="http://wowubuntu.com/markdown/#html" target="_blank" rel="external">Markdown语法说明</a><br><a href="https://segmentfault.com/a/1190000002632530" target="_blank" rel="external">hexo常用命令笔记</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[随笔]]></title>
      <url>http://yoursite.com/2016/09/18/%E9%9A%8F%E7%AC%94/</url>
      <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>人的一切痛苦，本质上都是对自己的无能的愤怒。</p>
</blockquote>
<p><a href="http://blog.csdn.net/foruok/article/details/42293119" target="_blank" rel="external">咦，你也在混日子啊</a><br><a href="http://www.jianshu.com/p/99239b9c1630" target="_blank" rel="external">Android开发架构规范</a><br><img src="https://s3.cn-north-1.amazonaws.com.cn/u-img/f4acd0c0-5ab2-47da-8b59-e85a8315d793" class="full-image" alt="alt" title="Android Activity Life Cycle"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[电影网站集锦]]></title>
      <url>http://yoursite.com/2016/08/31/%E7%94%B5%E5%BD%B1%E7%BD%91%E7%AB%99%E9%9B%86%E9%94%A6/</url>
      <content type="html"><![CDATA[<img src="/2016/08/31/电影网站集锦/太阳系.png" alt="This is an example image" title="This is an example image">
<a id="more"></a>
<p><img src="https://segmentfault.com/img/bVutft" alt="图片"><br><img src="https://segmentfault.com/img/bVutft" class="full-image" alt="alt" title="title"></p>
<p>超链接解决方案<br><a href="https://s3.cn-north-1.amazonaws.com.cn/u-vid/HhHcuvhPStw.mp4" target="_blank" rel="external">Play a video file</a></p>
<p>video标签<br>Android发展历程</p>
<video width="600" height="360" controls="controls"><br>  <source src="https://s3.cn-north-1.amazonaws.com.cn/u-vid/HhHcuvhPStw.mp4" type="video/mp4"><br>Your browser does not support the video tag.<br></video>

<p>优酷解决方案<br>在 HTML 中显示视频的最简单的方法是使用优酷等视频网站。<br>如果您希望在网页中播放视频，那么您可以把视频上传到优酷等视频网站，然后在您的网页中插入 HTML 代码即可播放视频：</p>
<embed src="http://player.youku.com/player.php/sid/XMzI2NTc4NTMy/v.swf" width="600" height="500" type="application/x-shockwave-flash"><br>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[视频解析播放]]></title>
      <url>http://yoursite.com/2016/08/29/%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E6%92%AD%E6%94%BE/</url>
      <content type="html"><![CDATA[<p><a href="http://www.vipbo.ml" target="_blank" rel="external">视频解析播放</a><br><a href="http://www.blxmyun.top/" target="_blank" rel="external">懒小猫全网影视在线解析播放系统</a></p>
<a id="more"></a>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=29431066&auto=1&height=66"></iframe>

<div style="width:200px; height:200px"><div class="owl-media owl-video owl-bilibili"><embed src="http://static.hdslb.com/miniloader.swf" flashvars="aid=367901&page=1" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" quality="high" allowfullscreen="true"></div></div>

<div class="owl-media owl-video owl-tudou"><embed src="http://www.tudou.com/v/pRsx83aRLLs/&bid=05&resourceId=0_05_05_99/v.swf" allowscriptaccess="always" wmode="opaque" type="application/x-shockwave-flash" quality="high" allowfullscreen="true"></div>
<p><div class="owl-media owl-video owl-tencent"><embed src="http://static.video.qq.com/TPout.swf?vid=o03134mlm8j&auto=0" type="application/x-shockwave-flash" quality="high" allowfullscreen="true" align="middle" allowscriptaccess="always"></div></p>
<p><div class="owl-media owl-video owl-tudou"><embed src="http://www.tudou.com/v/pRsx83aRLLs/&bid=05&resourceId=0_05_05_99/v.swf" allowscriptaccess="always" wmode="opaque" type="application/x-shockwave-flash" quality="high" allowfullscreen="true"></div></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ Android信息存储之-XML]]></title>
      <url>http://yoursite.com/2015/03/29/Android%E4%BF%A1%E6%81%AF%E5%AD%98%E5%82%A8%E4%B9%8B-XML/</url>
      <content type="html"><![CDATA[<p>xml也是存储Android中存储信息的一种方法，以下介绍一个动态存储信息到xml并读取xml的实例。</p>
<a id="more"></a>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><blockquote>
<p>将信息存储到 student.xml中（默认存储到assets文件夹中）<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">xmlSave</span><span class="params">(Student student)</span> </span>&#123;</div><div class="line">	students.add(student);</div><div class="line">       Write(<span class="string">"students.xml"</span>, writeXml(students));</div><div class="line">       send(student.getName());<span class="comment">//在通知栏发送通知</span></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Write</span><span class="params">(String path, String str)</span> </span>&#123;</div><div class="line">       <span class="keyword">try</span> &#123;</div><div class="line">           OutputStream os = openFileOutput(path, MODE_PRIVATE);</div><div class="line">           OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(os);</div><div class="line">           osw.write(str);</div><div class="line">           osw.close();</div><div class="line">           os.close();</div><div class="line">       &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</div><div class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">       &#125;</div><div class="line">   &#125;&lt;pre <span class="class"><span class="keyword">class</span></span>=<span class="string">"java"</span> name=<span class="string">"code"</span>&gt;<span class="function"><span class="keyword">private</span> String <span class="title">writeXml</span><span class="params">(List&lt;Student&gt; students)</span> </span>&#123;<span class="comment">//使用Pull解析器生成XML文件</span></div><div class="line">       XmlSerializer serializer = Xml.newSerializer();</div><div class="line">       StringWriter writer = <span class="keyword">new</span> StringWriter();</div><div class="line">       <span class="keyword">try</span> &#123;</div><div class="line">           serializer.setOutput(writer);</div><div class="line"></div><div class="line">           serializer.startDocument(<span class="string">"UTF - 8"</span>, <span class="keyword">true</span>);</div><div class="line"></div><div class="line">           serializer.startTag(<span class="string">""</span>, <span class="string">"students"</span>);</div><div class="line"></div><div class="line">           <span class="keyword">for</span> (Student student : students) &#123;</div><div class="line">               serializer.startTag(<span class="string">""</span>, <span class="string">"student"</span>);</div><div class="line">               serializer.attribute(<span class="string">""</span>, <span class="string">"id"</span>, String.valueOf(student.getID()));</div><div class="line">               serializer.attribute(<span class="string">""</span>, <span class="string">"name"</span>, student.getName());</div><div class="line">               serializer.attribute(<span class="string">""</span>, <span class="string">"math"</span>, String.valueOf(student.getMath()));</div><div class="line">               serializer.attribute(<span class="string">""</span>, <span class="string">"geometry"</span>, String.valueOf(student.getGeometry()));</div><div class="line">               serializer.attribute(<span class="string">""</span>, <span class="string">"cProgram"</span>, String.valueOf(student.getCprogram()));</div><div class="line">               serializer.endTag(<span class="string">""</span>, <span class="string">"student"</span>);</div><div class="line">           &#125;</div><div class="line"></div><div class="line">           serializer.endTag(<span class="string">""</span>, <span class="string">"students"</span>);</div><div class="line"></div><div class="line">           serializer.endDocument();</div><div class="line">           <span class="keyword">return</span> writer.toString();</div><div class="line">       &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>在DDMS中（data/data/包名/files/students.xml）提取到的新目录文件内容格式如下<br>使用DOM解析器对students.xml进行解析：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnXML</span><span class="params">()</span> </span>&#123;</div><div class="line">       Bundle data = <span class="keyword">new</span> Bundle();</div><div class="line">       data.putSerializable(<span class="string">"data"</span>, toList(ReadXmlUser()));</div><div class="line">       Intent intent = <span class="keyword">new</span> Intent(InputActivity.<span class="keyword">this</span>, PrintActivity.class);</div><div class="line">       intent.putExtras(data);</div><div class="line">       startActivity(intent);</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="function"><span class="keyword">private</span> List&lt;Student&gt; <span class="title">ReadXmlUser</span><span class="params">()</span> </span>&#123;</div><div class="line">       DocumentBuilderFactory documentBuilderFactory;</div><div class="line">       DocumentBuilder documentBuilder;</div><div class="line">       Document document;</div><div class="line">       documentBuilderFactory = DocumentBuilderFactory.newInstance();</div><div class="line">       <span class="keyword">try</span> &#123;</div><div class="line">           documentBuilder = documentBuilderFactory.newDocumentBuilder();</div><div class="line">           <span class="comment">//xml文件放到assets目录下</span></div><div class="line">           document = documentBuilder.parse(<span class="keyword">this</span>.openFileInput(<span class="string">"students.xml"</span>));</div><div class="line">           Element root = document.getDocumentElement();</div><div class="line">           NodeList nodeList = root.getElementsByTagName(<span class="string">"student"</span>);</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nodeList.getLength(); i++) &#123;</div><div class="line">               Student student = <span class="keyword">new</span> Student();</div><div class="line">               <span class="comment">//得到一个student节点</span></div><div class="line">               Element studentNode = (Element) nodeList.item(i);</div><div class="line">  		<span class="comment">//获取student节点的属性值</span></div><div class="line">               student.setID(<span class="keyword">new</span> Integer(studentNode.getAttribute(<span class="string">"id"</span>)));</div><div class="line">               student.setName(<span class="keyword">new</span> String(studentNode.getAttribute(<span class="string">"name"</span>)));</div><div class="line">               student.setMath(<span class="keyword">new</span> Float(studentNode.getAttribute(<span class="string">"math"</span>)));</div><div class="line">               student.setGeometry(<span class="keyword">new</span> Float(studentNode.getAttribute(<span class="string">"geometry"</span>)));</div><div class="line">               student.setCprogram(<span class="keyword">new</span> Float(studentNode.getAttribute(<span class="string">"cProgram"</span>)));</div><div class="line">               students.add(student);</div><div class="line">           &#125;</div><div class="line">       &#125; <span class="keyword">catch</span> (ParserConfigurationException e) &#123;</div><div class="line">           e.printStackTrace();</div><div class="line">       &#125; <span class="keyword">catch</span> (SAXException e) &#123;</div><div class="line">           e.printStackTrace();</div><div class="line">       &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">           e.printStackTrace();</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> students;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>Student类如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.zhang.android;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;								<span class="comment">//学生信息类</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ID;									<span class="comment">//学号</span></div><div class="line">    <span class="keyword">private</span> String name ;							<span class="comment">//学生姓名</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> math;								<span class="comment">//工数成绩</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> geometry;							<span class="comment">//代几成绩</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">float</span> cprogram;							<span class="comment">//C语言成绩</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span></span>&#123;								<span class="comment">//无参构造方法</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> iD,String name,<span class="keyword">float</span> math,<span class="keyword">float</span> geometry,<span class="keyword">float</span> cprogram)</span></span>&#123;<span class="comment">//有参构造方法</span></div><div class="line">        <span class="keyword">this</span>.setID(iD);</div><div class="line">        <span class="keyword">this</span>.setName(name);</div><div class="line">        <span class="keyword">this</span>.setMath(math);</div><div class="line">        <span class="keyword">this</span>.setGeometry(geometry);</div><div class="line">        <span class="keyword">this</span>.setCprogram(cprogram);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//运用setter和getter进行封装</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getID</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> ID;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setID</span><span class="params">(<span class="keyword">int</span> iD)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.ID = iD;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getMath</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> math;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMath</span><span class="params">(<span class="keyword">float</span> math)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.math = math;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getGeometry</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> geometry;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGeometry</span><span class="params">(<span class="keyword">float</span> geometry)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.geometry = geometry;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getCprogram</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> cprogram;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCprogram</span><span class="params">(<span class="keyword">float</span> cprogram)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.cprogram = cprogram;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<p><strong>版权声明：本文为博主原创文章，转载请注明出处 <a href="http://03cheng.github.io" target="_blank" rel="external">03cheng’s Blog</a></strong></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Android信息存储之-JSON]]></title>
      <url>http://yoursite.com/2015/03/28/Android%E4%BF%A1%E6%81%AF%E5%AD%98%E5%82%A8%E4%B9%8B-json/</url>
      <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Android 存储数据有很多种方法，它们各自有各自的好处，JSON 就是其中一种。<br>JSON(JavaScript Object Notation) 是一种轻量级的数据交换格式，易于阅读和编写，同时也易于机器解析和生成。<a id="more"></a><br>我在经过 SQLite 数据库存储信息的学习之后，再学习 JSON 存储信息发现更加简单了。<br>与大家分享一下我的学习过程。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>使用 JSON 存储数据。</p>
<h3 id="导入-Gson-包"><a href="#导入-Gson-包" class="headerlink" title="导入 Gson 包"></a>导入 Gson 包</h3><p>首先从网上下载 Google 的 Gson 包，Gson 是 Google 提供的用来在 Java 对象和 JSON 数据之间进行映射的 Java 类库，可以把 Java 对象转换成 JSON 字符串，也可以将一个 JSON 字符串转成一个 Java 对象。<br>然后在工程中导入Gson包。</p>
<h3 id="JSON-简单转换"><a href="#JSON-简单转换" class="headerlink" title="JSON 简单转换"></a>JSON 简单转换</h3><p>通过利用 Gson 中的方法将需要存储的信息通过 toJson 方法转换成字符串，当需要使用该信息时再通过 fromJson 方法将字符串转换成原来的类型。<br>简单的信息存储如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//将作为 Student 类实例化的 student 对象转换成 JSON 字符串</span></div><div class="line">String string = gson.toJson(student,Student.class);</div><div class="line"></div><div class="line"><span class="comment">//将 JSON 字符串转换成 Student 类的对象</span></div><div class="line">Student student = gson.fromJson(string,Student.class);</div></pre></td></tr></table></figure></p>
<h3 id="与带泛型的List之间的转化"><a href="#与带泛型的List之间的转化" class="headerlink" title="与带泛型的List之间的转化"></a>与带泛型的List之间的转化</h3><p>实例化 Gson 对象，并创建字符串供后面使用。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> Gson gson = <span class="keyword">new</span> Gson();</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> String s;</div></pre></td></tr></table></figure></p>
<p>将 student 对象添加到链中然后将 students 链通过 toJson 转换为 JSON 字符串。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">jsonSave</span><span class="params">(Student student)</span> </span>&#123;</div><div class="line">	students.add(student);</div><div class="line">	s = gson.toJson(students);</div><div class="line">	send(student.getName());<span class="comment">//在通知栏发送通知</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>通过 fromJson 将JSON 字符串转换为原来的类型（通过TypeToken类的getType方法获取类型）<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnJson</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">		List&lt;Student&gt; students = gson.fromJson(s, <span class="keyword">new</span> TypeToken&lt;List&lt;Student&gt;&gt;() &#123;</div><div class="line">		&#125;.getType());</div><div class="line">		Bundle data = <span class="keyword">new</span> Bundle();</div><div class="line">		data.putSerializable(<span class="string">"data"</span>, toList(students));<span class="comment">//将students链转换为可打印的链</span></div><div class="line">		Intent intent = <span class="keyword">new</span> Intent(InputActivity.<span class="keyword">this</span>, PrintActivity.class);</div><div class="line">		intent.putExtras(data);</div><div class="line">		startActivity(intent);</div><div class="line">	&#125; <span class="keyword">catch</span> (JsonSyntaxException e) &#123;</div><div class="line">		e.printStackTrace();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>JSON 存储信息的确很方便，但是本例中存在以下问题：由于字符串是同一个，所以当退出程序再进行输入时之前的字符串会被当前内容所覆盖导致信息丢失，也许是我没有找到解决方法的原因。</p>
<p><strong>版权声明：本文为博主原创文章，转载请注明出处 <a href="http://03cheng.github.io" target="_blank" rel="external">03cheng’s Blog</a></strong></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Android信息存储之-SQL]]></title>
      <url>http://yoursite.com/2015/03/28/Android%E4%BF%A1%E6%81%AF%E5%AD%98%E5%82%A8%E4%B9%8B-SQL/</url>
      <content type="html"><![CDATA[<p>SQL数据库是Android自带的轻型数据库，操作简单保存信息可靠。</p>
<a id="more"></a>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>学生信息的管理</p>
<h3 id="DataBaseHelper类"><a href="#DataBaseHelper类" class="headerlink" title="DataBaseHelper类"></a>DataBaseHelper类</h3><p>创建DataBaseHelper类继承SQLOpenHelper<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.zhang.android;</div><div class="line"></div><div class="line"><span class="keyword">import</span> android.content.Context;</div><div class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</div><div class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteOpenHelper;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by asus-pc on 2015/2/19.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataBaseHelper</span> <span class="keyword">extends</span> <span class="title">SQLiteOpenHelper</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String DATABASE_NAME = <span class="string">"student.db"</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DATABASE_VERSION = <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DataBaseHelper</span><span class="params">(Context context)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(context, DATABASE_NAME, <span class="keyword">null</span>, DATABASE_VERSION);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(SQLiteDatabase db)</span> </span>&#123;</div><div class="line">        db.execSQL(<span class="string">"CREATE TABLE IF NOT EXISTS student"</span> +</div><div class="line">                <span class="string">"(_id INTEGER PRIMARY KEY AUTOINCREMENT, id INTEGER, name VARCHAR, math FLOAT, geometry FLOAT, cProgram FLOAT)"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpgrade</span><span class="params">(SQLiteDatabase db, <span class="keyword">int</span> oldVersion, <span class="keyword">int</span> newVersion)</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"--------onUpdate Called--------"</span> + oldVersion + <span class="string">"---&gt;"</span> + newVersion);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="DataManager类"><a href="#DataManager类" class="headerlink" title="DataManager类"></a>DataManager类</h3><p>创建DataManager类，将数据库想实现的功能写在里面<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.zhang.android;</div><div class="line"></div><div class="line"><span class="keyword">import</span> android.content.ContentValues;</div><div class="line"><span class="keyword">import</span> android.content.Context;</div><div class="line"><span class="keyword">import</span> android.database.Cursor;</div><div class="line"><span class="keyword">import</span> android.database.sqlite.SQLiteDatabase;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.ArrayList;</div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by asus-pc on 2015/3/15.</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataBaseManager</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> DataBaseHelper helper;</div><div class="line">    <span class="keyword">private</span> SQLiteDatabase db;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DataBaseManager</span><span class="params">(Context context)</span></span>&#123;</div><div class="line">        helper = <span class="keyword">new</span> DataBaseHelper(context);</div><div class="line">        db = helper.getWritableDatabase();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertData</span><span class="params">(ContentValues cv)</span></span>&#123;</div><div class="line">        db.insert(<span class="string">"student"</span>,<span class="keyword">null</span>,cv);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;Student&gt; <span class="title">query</span><span class="params">()</span> </span>&#123;</div><div class="line">        ArrayList&lt;Student&gt; students = <span class="keyword">new</span> ArrayList&lt;Student&gt;();</div><div class="line">        Cursor c = db.rawQuery(<span class="string">"SELECT * FROM student"</span>, <span class="keyword">null</span>);</div><div class="line">        <span class="keyword">while</span> (c.moveToNext()) &#123;</div><div class="line">            Student student = <span class="keyword">new</span> Student();</div><div class="line">            student.setID(c.getInt(c.getColumnIndex(<span class="string">"id"</span>)));</div><div class="line">            student.setName(c.getString(c.getColumnIndex(<span class="string">"name"</span>)));</div><div class="line">            student.setMath(c.getFloat(c.getColumnIndex(<span class="string">"math"</span>)));</div><div class="line">            student.setGometry(c.getFloat(c.getColumnIndex(<span class="string">"geometry"</span>)));</div><div class="line">            student.setCprogram(c.getFloat(c.getColumnIndex(<span class="string">"cProgram"</span>)));</div><div class="line">            students.add(student);</div><div class="line">        &#125;</div><div class="line">        c.close();</div><div class="line">        <span class="keyword">return</span> students;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">closeDataBase</span><span class="params">()</span> </span>&#123;</div><div class="line">        db.close();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="SQL-存储数据"><a href="#SQL-存储数据" class="headerlink" title="SQL 存储数据"></a>SQL 存储数据</h3><blockquote>
<p>实例化对象 DataManager<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> DataBaseManager dataBaseManager;              <span class="comment">//创建数据库</span></div></pre></td></tr></table></figure></p>
<p>初始化数据库<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dataBaseManager = <span class="keyword">new</span> DataBaseManager(<span class="keyword">this</span>);                <span class="comment">//初始化数据库</span></div></pre></td></tr></table></figure></p>
<p>实例化学生对象并存入信息<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Student student = <span class="keyword">new</span> Student(intId, strName, floatMath, floatGeometry, floatCProgram);</div></pre></td></tr></table></figure></p>
<p>将学生信息存入键值对，然后将其加入数据库中<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sqlSave</span><span class="params">(Student student)</span> </span>&#123;</div><div class="line">	ContentValues cv = <span class="keyword">new</span> ContentValues();</div><div class="line">	cv.put(<span class="string">"id"</span>, student.getID());</div><div class="line">	cv.put(<span class="string">"name"</span>, student.getName());</div><div class="line">	cv.put(<span class="string">"math"</span>, student.getMath());</div><div class="line">	cv.put(<span class="string">"geometry"</span>, student.getGeometry());</div><div class="line">	cv.put(<span class="string">"cProgram"</span>, student.getCprogram());</div><div class="line">	dataBaseManager.insertData(cv);</div><div class="line">	send(student.getName());<span class="comment">//在通知栏发送通知</span></div><div class="line">	finish();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>读取学生信息时<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">btnSQL</span><span class="params">()</span> </span>&#123;</div><div class="line">	List&lt;Student&gt; students = dataBaseManager.query();</div><div class="line">	Bundle data = <span class="keyword">new</span> Bundle();</div><div class="line">	data.putSerializable(<span class="string">"data"</span>, toList(students));</div><div class="line">	Intent intent = <span class="keyword">new</span> Intent(InputActivity.<span class="keyword">this</span>, PrintActivity.class);</div><div class="line">	intent.putExtras(data);</div><div class="line">	startActivity(intent);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>toList方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">protected</span> ArrayList&lt;Map&lt;String, String&gt;&gt; toList(List&lt;Student&gt; students) &#123;</div><div class="line">	ArrayList&lt;Map&lt;String, String&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;Map&lt;String, String&gt;&gt;();</div><div class="line">	<span class="keyword">for</span> (Student student : students) &#123;</div><div class="line">		HashMap&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</div><div class="line">		map.put(<span class="string">"id"</span>, <span class="string">"学号："</span> + student.getID() + <span class="string">"\n姓名："</span> + student.getName());</div><div class="line">		map.put(<span class="string">"grades"</span>, <span class="string">"工数成绩："</span> + student.getMath() + <span class="string">"\n代几成绩："</span> + student.getGeometry() + <span class="string">"\nC语言成绩："</span> + student.getCprogram());</div><div class="line">		list.add(map);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> list;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>打印方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">ListView listView = (ListView)findViewById(R.id.lvShow);</div><div class="line"></div><div class="line">	Intent intent = getIntent();</div><div class="line">	Bundle data = intent.getExtras();</div><div class="line">	<span class="keyword">try</span> &#123;</div><div class="line">		List&lt;Map&lt;String , String&gt;&gt; list = (List&lt;Map&lt;String , String&gt;&gt;)data.getSerializable(<span class="string">"data"</span>);</div><div class="line"></div><div class="line">		SimpleAdapter adapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>, list, android.R.layout.simple_list_item_2,</div><div class="line">			<span class="keyword">new</span> String[]&#123;<span class="string">"id"</span>, <span class="string">"grades"</span>&#125;, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;android.R.id.text1, android.R.id.text2&#125;);</div><div class="line">		listView.setAdapter(adapter);</div><div class="line">	&#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">		e.printStackTrace();</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<p><strong>版权声明：本文为博主原创文章，转载请注明出处 <a href="http://03cheng.github.io" target="_blank" rel="external">03cheng’s Blog</a></strong></p>
]]></content>
    </entry>
    
  
  
</search>
